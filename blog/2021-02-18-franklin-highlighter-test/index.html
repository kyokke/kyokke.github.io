<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_hyde.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <title>Franklin.jl で code highlight を使ってみるテスト</title> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <h1><a href="/">kyokke's blog</a></h1> <p class=lead > julialang や　機械学習関連の作業/Tips 記録など</p> </div> <nav class=sidebar-nav > <!-- <a class="sidebar-nav-item {{ispage index.html}}active{{end}}" href="/">Home</a> <a class="sidebar-nav-item {{ispage /blog/*}}active{{end}}" href="/blog/">Blog</a> --> <!-- <a class="sidebar-nav-item {{ispage menu1/*}}active{{end}}" href="/menu1/">Code blocks</a> <a class="sidebar-nav-item {{ispage menu2/*}}active{{end}}" href="/menu2/">More goodies</a> <a class="sidebar-nav-item {{ispage menu3/*}}active{{end}}" href="/menu3/">Tags</a> --> </nav> <p>&copy; kyokke.</p> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id="franklinjl_で_code_highlight_を使ってみるテスト"><a href="#franklinjl_で_code_highlight_を使ってみるテスト" class=header-anchor >Franklin.jl で code highlight を使ってみるテスト</a></h1> <p>このブログは Juliaで実装された、 静的サイトジェネレーター &quot;Franklin.jl&quot; を使って作成されています。</p> <p>先日数式のテスト投稿を行いましたが、ソースコードの表示も行うことが増えると思うので、code highlight 機能のテストを行います。</p> <h2 id="依存モジュールのインストール_on_local_windows"><a href="#依存モジュールのインストール_on_local_windows" class=header-anchor >依存モジュールのインストール on Local Windows </a></h2> <p><a href="https://franklinjl.org/index.html#installing_optional_extras">ドキュメント</a> を見てそのとおりにやるのみ。</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Pkg
Pkg.add(<span class=hljs-string >&quot;NodeJS&quot;</span>)
<span class=hljs-keyword >using</span> NodeJS
run(<span class=hljs-string >`<span class=hljs-subst >$(npm_cmd()</span>) install highlight.js`</span>)</code></pre> <p>で Local Server では動いていそう。</p> <h2 id="依存モジュールのインストール_on_github_actions_の_ubuntu"><a href="#依存モジュールのインストール_on_github_actions_の_ubuntu" class=header-anchor >依存モジュールのインストール on Github Actions の Ubuntu</a></h2> <p>.github/workflows/deploy.yml の中で、</p> <pre><code class="yml hljs"><span class=hljs-bullet >-</span> <span class=hljs-attr >run:</span> <span class=hljs-string >julia</span> <span class=hljs-string >-e</span> <span class=hljs-string >&#x27;
            using Pkg; 
            Pkg.add([&quot;NodeJS&quot;]);
            Pkg.add(Pkg.PackageSpec(name=&quot;Franklin&quot;, rev=&quot;master&quot;));
            using NodeJS; run(`$(npm_cmd()) install highlight.js`);
            using Franklin;
            Pkg.activate(&quot;.&quot;); Pkg.instantiate();
            optimize()&#x27;</span></code></pre> <p>というように、NodeJS モジュールと highlight.js のインストールを行うコードがあることを確認 &#40;最初にこのサイトを開いたときにすでに設定を行っていた&#41;</p> <p>これで問題なく動いていそう。</p> <div class=page-foot > <div class=copyright > &copy; kyokke. Last modified: September 27, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div>